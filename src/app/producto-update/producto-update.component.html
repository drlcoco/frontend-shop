<!-- <div class="container-fluid">
  <div class="row">
    <div class="col p-5 mx-5">
      <h1 class="mt-5 text-primary text-center">Actualizar producto {{producto.id}}</h1>
      <form class="mt-4" #valForm="ngForm" (ngSubmit)="updateProduct()">
        <div class="form-group">
          <label for="id">Id</label>
          <input type="number" class="form-control" name="id" [(ngModel)]="producto.id" disabled>
        </div>
        <div class="form-group">
          <label for="title">Nombre</label>
          <input type="text" class="form-control" name="title" [(ngModel)]="producto.title"
            (ngModelChange)="producto.title" minlength="5" maxlength="30" #ngNombre="ngModel"
            [ngClass]="{'is-valid':ngNombre.valid, 'is-invalid':!ngNombre.valid}"
            required>

        </div>
        <div class="form-group">
          <label for="description">Descripción</label>
          <input type="text" class="form-control" name="description" [(ngModel)]="producto.description"
            (ngModelChange)="producto.description" #ngDesc="ngModel" minlength="5" maxlength="90"
            [ngClass]="{'is-valid':ngDesc.valid, 'is-invalid':!ngDesc.valid}"
            required>
        </div>
        <div class="form-group">
          <label for="date">Stock</label>
          <input type="number" class="form-control" name="date" [(ngModel)]="producto.stock" (ngModelChange)="producto.stock"
            #ngDate="ngModel"
            [ngClass]="{'is-valid':ngDate.valid, 'is-invalid': !ngDate.valid}"
            required>
        </div>
        <div class="form-group">
          <label for="price">Precio</label>
          <input type="number" class="form-control" name="price" [(ngModel)]="producto.price" #ngPrice="ngModel"
            [ngClass]="{'is-valid':ngPrice.valid, 'is-invalid':!ngPrice.valid}"
            required (ngModelChange)="producto.price">
        </div>
        <div class="form-group mt-3">
          <label for="image">Imagen</label>
          <input type="file" class="file-upload form-control" #fileUpload name="image"
            (change)="changeImage(fileUpload)" />
        </div>
        <div class="text-center mt-2">
          <img [src]="producto.image" alt="" id="preview" width="200">
        </div>
        <div class="form-group mt-3 text-center mb-5">
          <input type="submit" class="btn btn-primary w-50"  value="Enviar" />
        </div>
      </form>
    </div>
  </div>
</div> -->

<div class="container-fluid">
  <div class="row text-center justify-content-center my-4">
    <div *ngIf="this.producto" class="col-xs-12 col-lg-10 p-5 mx-5">
      <h1 class="mt-5 text-primary text-center fs-2"><i class="bi bi-pencil me-2"></i>Actualizar producto {{this.producto.title}}</h1>
      <form class="mt-5 fs-5 rounded-3 p-4 border border-primary darkThemeForm" #valForm="ngForm" (ngSubmit)="updateProduct()">
        <!-- <div class="form-group">
          <mat-form-field class="example-form-field col-12">
            <mat-label class="text-primary">Id</mat-label>
            <input
              matInput
              class="text-secondary"
              type="number"
              name="id"
              id="id"
              [(ngModel)]="this.user.id"
              #id="ngModel"
              [ngClass]="{'is-valid':id.touched && id.valid, 'is-invalid':id.touched && !id.valid}"
              disabled
              minlength="1" maxlength="30" required>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="example-form-field col-12">
            <mat-label class="text-primary">Role</mat-label>
            <input
              matInput
              class="text-secondary"
              type="text"
              name="role"
              id="role"
              [(ngModel)]="this.user.role"
              #role="ngModel"
              [ngClass]="{'is-valid':role.touched && role.valid, 'is-invalid':role.touched && !role.valid}"
              pattern="[a-zA-ZÀ-ÿ\s]{1,40}"
              disabled
              minlength="5" maxlength="30" required>
          </mat-form-field>
        </div> -->
        <div class="row d-flex w-100">
          <div class="col-xs-12 col-md-6">
            <div class="form-group">
              <mat-form-field class="example-form-field col-12">
                <mat-label [ngStyle]="{ color: !title.valid ? 'red' : '#0d6efd' }">Nombre</mat-label>
                <input
                  matInput
                  class=""
                  type="text"
                  name="title"
                  id="title"
                  [(ngModel)]="this.producto.title"
                  (ngModelChange)="this.producto.title"
                  #title="ngModel"
                  [ngClass]="{'is-valid':title.touched && title.valid, 'is-invalid':title.touched && !title.valid}"
                  minlength="5" maxlength="30" required>
              </mat-form-field>
            </div>
            <div class="form-group">
                <mat-form-field class="example-form-field col-12">
                  <mat-label [ngStyle]="{ color: !description.valid ? 'red' : '#0d6efd' }">Descripción</mat-label>
                  <input
                    matInput
                    class=""
                    type="text"
                    name="description"
                    id="description"
                    [(ngModel)]="this.producto.description"
                    (ngModelChange)="this.producto.description"
                    #description="ngModel"
                    [ngClass]="{'is-valid':description.touched && description.valid, 'is-invalid':description.touched && !description.valid}"
                    minlength="1" maxlength="100" required>
                </mat-form-field>
            </div>
          </div>
          <div class="col-xs-12 col-md-6">
            <div class="form-group">
              <mat-form-field class="example-form-field col-12">
                <mat-label [ngStyle]="{ color: !stock.valid ? 'red' : '#0d6efd' }">Stock</mat-label>
                <input
                  matInput
                  class=""
                  type="number"
                  name="stock"
                  id="stock"
                  [(ngModel)]="this.producto.stock"
                  (ngModelChange)="this.producto.stock"
                  #stock="ngModel"
                  [ngClass]="{'is-valid':stock.touched && stock.valid, 'is-invalid':stock.touched && !stock.valid}"
                  minlength="1" maxlength="100" required>
              </mat-form-field>
            </div>
            <div class="form-group">
                <mat-form-field class="example-form-field col-12">
                  <mat-label [ngStyle]="{ color: !price.valid ? 'red' : '#0d6efd' }">Precio</mat-label>
                  <input
                    matInput
                    class=""
                    type="number"
                    name="price"
                    id="price"
                    [(ngModel)]="this.producto.price"
                    (ngModelChange)="this.producto.price"
                    #price="ngModel"
                    [ngClass]="{'is-valid':price.touched && price.valid, 'is-invalid':price.touched && !price.valid}"

                    required>
                </mat-form-field>
            </div>
          </div>
          <div class="col-12">
            <div class="form-group">
              <mat-form-field class="example-form-field col-12">
                <mat-label></mat-label>
                <!-- <button type="button" mat-raised-button (click)="onFileSelected()">Choose File</button> -->
                <div class="box-button">
                  <button type="button" class="btn btn-outline-primary button-select">
                    <input
                    matInput
                    type="file"
                    class="file-upload file-button"
                    #fileUpload
                    name="image"
                    (ngModel)="this.producto.image"
                    (change)="changeImage(fileUpload)"/>Seleccionar imagen</button>
                </div>
              </mat-form-field>
            </div>
            <div class="text-center mt-3">
              <img [src]="this.producto.image" alt="" id="preview" width="200">
            </div>
            <div class="form-group my-3 text-center">
              <input type="submit" class="btn btn-primary w-50 mt-4"  value="Guardar" />
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


